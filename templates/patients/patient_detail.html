{% extends 'base.html' %}

{% block title %}{{ patient.first_name }} {{ patient.last_name }} | Patient Registry{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h1 class="h3 m-0">{{ patient.first_name }} {{ patient.last_name }}</h1>
  <a href="{% url 'patients:edit' patient.pk %}" class="btn btn-outline-secondary">Edit</a>
</div>

<div class="card shadow-sm">
  <div class="card-body">
    <dl class="row mb-0">
      <dt class="col-sm-4">Date of Birth</dt>
      <dd class="col-sm-8">{{ patient.date_of_birth|date:'Y-m-d'|default:'-' }}</dd>

      <dt class="col-sm-4">Sex</dt>
      <dd class="col-sm-8">{{ patient.get_sex_display|default:'-' }}</dd>

      <dt class="col-sm-4">Phone</dt>
      <dd class="col-sm-8">{{ patient.phone|default:'-' }}</dd>

      <dt class="col-sm-4">Email</dt>
      <dd class="col-sm-8">{{ patient.email|default:'-' }}</dd>

      <dt class="col-sm-4">Address</dt>
      <dd class="col-sm-8">{{ patient.address|linebreaksbr|default:'-' }}</dd>

      <dt class="col-sm-4">Emergency Contact</dt>
      <dd class="col-sm-8">
        {% if patient.emergency_contact_name or patient.emergency_contact_phone %}
          {{ patient.emergency_contact_name|default:'-' }}
          {% if patient.emergency_contact_phone %} ({{ patient.emergency_contact_phone }}){% endif %}
        {% else %}
          -
        {% endif %}
      </dd>

      <dt class="col-sm-4">Notes</dt>
      <dd class="col-sm-8">{{ patient.notes|linebreaksbr|default:'-' }}</dd>

      <dt class="col-sm-4">Created</dt>
      <dd class="col-sm-8">{{ patient.created_at|date:'Y-m-d H:i' }}</dd>

      <dt class="col-sm-4">Updated</dt>
      <dd class="col-sm-8">{{ patient.updated_at|date:'Y-m-d H:i' }}</dd>
    </dl>
  </div>
</div>

<div class="mt-3">
  <a href="{% url 'patients:list' %}" class="btn btn-link ps-0">Back to list</a>
</div>
{% endblock %}
